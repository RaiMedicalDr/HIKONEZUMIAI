<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>HIKONEZUMI LOCAL AI TOOLS - Home</title>
<!-- iOS Web App -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="HIKOAITOOLS">
<link rel="apple-touch-icon" href="app.png">

<style>
body, html {
  margin:0;
  padding:0;
  height:100%;
  font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;
  background: #f2f2f7;
}

/* ================= App全体 ================= */
.app {
  display: flex;
  flex-direction: column;
  padding: 16px;
  gap: 16px;
  box-sizing: border-box;
  overflow-y: auto;
}

/* ================= ヘッダー ================= */
.header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: white;
  border-radius: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.08);
  text-decoration: none;
  color: inherit;
}

.header img {
  width:44px;
  height:44px;
  border-radius:10px;
}

.header .title {
  font-size: 20px;
  font-weight:600;
}

/* ================= 検索ボックス ================= */
.search-box {
  padding: 8px 12px;
  border-radius: 12px;
  border: 1px solid #ccc;
  width: 100%;
  box-sizing: border-box;
  font-size: 14px;
}

/* ================= 外部サイト埋め込み ================= */
.external-grid {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.cockpit-frame {
  width: 100%;
  height: 400px;
  border: none;
  border-radius: 12px;
}

/* ================= Dock ================= */
.dock {
  bottom:0;
  left:0;
  width:100%;
  display:flex;
  justify-content:space-around;
  align-items:center;
  padding:10px 0;
  background: rgba(255,255,255,0.95);
  box-shadow:0 -4px 10px rgba(0,0,0,0.1);
  border-top-left-radius:16px;
  border-top-right-radius:16px;
  position:sticky;
  z-index:1000;
}

.dock-item {
  flex:1;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  text-decoration:none;
  color:#000;
  gap:4px;
  padding:8px 0;
  border-radius:12px;
  background:#f9f9f9;
  margin:0 4px;
  box-shadow:0 2px 6px rgba(0,0,0,0.08);
  min-width:80px;
  text-align:center;
}

.dock-item img {
  width:36px;
  height:36px;
  border-radius:8px;
}

.dock-item span {
  font-size:12px;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}
</style>
</head>
<body>

<div class="app">

  <!-- ヘッダー -->
  <a href="index.html" class="header">
    <img src="company.jpg" alt="会社アイコン">
    <div class="title">HIKONEZUMI LOCAL AI TOOLS</div>
  </a>

  <!-- 検索 -->
  <input type="text" id="searchBox" class="search-box" placeholder="サイト名で検索">

  <!-- 外部サイト埋め込み -->
  <div class="external-grid" id="externalGrid">
    <!-- iframeはJSで動的生成 -->
  </div>

</div>

<!-- Dock -->
<div class="dock">
  <a class="dock-item" href="https://docs.google.com/forms/d/e/1FAIpQLSeOILR0S-dTJkPKPcp_EoRfPSDfqJo8BS8I-SnNKysDQox7Bw/viewform?usp=dialog">
    <img src="company.jpg" alt="">
    <span>お問い合わせ</span>
  </a>

  <a class="dock-item" href="server.html">
    <img src="kkrn_icon_server_3.png" alt="">
    <span>サーバー一覧</span>
  </a>

  <div class="dock-item" id="reloadApp">
    <img src="return.png" alt="">
    <span>リロード</span>
  </div>
</div>

<script>
// ================= 外部サイトリスト =================
const externalSites = [
  { name: "HPE PROLIANT DL380 GEN10", url: "http://100.122.192.114:9090" },
  { name: "FUJITSU PRIMERGY RX2540 M5", url: "http://100.104.34.47:9090" },
];

const grid = document.getElementById("externalGrid");

// ================= 外部サイト埋め込み表示関数 =================
function renderExternalSites(filter="") {
  grid.innerHTML = "";
  externalSites
    .filter(site => site.name.toLowerCase().includes(filter))
    .forEach(site => {
      const container = document.createElement("div");
      const title = document.createElement("div");
      title.textContent = site.name;
      title.style.fontWeight = "600";
      title.style.marginBottom = "6px";

      const iframe = document.createElement("iframe");
      iframe.src = site.url;
      iframe.className = "cockpit-frame";
      iframe.allowFullscreen = true;

      container.appendChild(title);
      container.appendChild(iframe);
      grid.appendChild(container);
    });
}

// ================= 初期表示 =================
renderExternalSites();

// ================= 検索機能 =================
document.getElementById("searchBox").addEventListener("input", e => {
  renderExternalSites(e.target.value.toLowerCase());
});

// ================= リロードボタン =================
document.getElementById("reloadApp").addEventListener("click", ()=>location.reload());
</script>

</body>
</html>
